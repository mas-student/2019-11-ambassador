# Посол

## Описание
Домашняя работа, 
посвященная проработке материалов лекции
«Sidecar, Ambassador, Adapter паттерны. Принципы работы.»
выполняемая в рамках курса «Архитектор программного обеспечения»

## Постановка задачи

Разработать сервис, позволяющий отправлять уведомления как через электронную почту,
так и через систему уведомлений глобальной сети. Ключевым моментом решения является
построение через шаблон проектирования Посол (Ambassador). Поступление сообшений 
происходит через внешний API-Gateway (nginx), который в свою очередь перенаправляет 
сообщения требуемому испольнителю. 
 
## Запуск сервиса

требуется настроить следующие переменнные окружения

```
# адрес сервера отправки электронной почты
SMTP_HOST=
# порт сервера отправки электронной почты
SMTP_PORT=
# имя пользователя на сервере отправки электронной почты
SMTP_USERNAME=
# пароль пользователя на сервере отправки электронной почты
SMTP_PASSWORD=
# список адресов получателей
RECEIVERS=

# идентификтатор приложения в системе One Signal
ONE_SIGNAL_APP_ID=
# ключ доступа в системе One Signal
ONE_SIGNAL_API_KEY=


```

```
    docker-compose up ambassador
```

## Выполнение проверки

установка http клиента (нет никаких препятствий для использования cUrl)
```
    apt-get install httpie
```

отправка электронного письма
```
    http -v http://localhost:8080/letters message=hello
```

отправка всплывающего сообщения
```
    http -v http://localhost:8080/popups message=hello
```
